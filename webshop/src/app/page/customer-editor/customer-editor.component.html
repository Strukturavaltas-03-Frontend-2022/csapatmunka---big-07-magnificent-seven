<!-- export class Customer {
  [x: string]: any;
  id: number = 0;
  firstName: string = '';
  lastName: string = '';
  email: string = '';
  address: Address = new Address();
  active: boolean = true;
} -->

<div class="row mt-3" *ngIf="customer$ | async as customer">
  <div class="col-12">
    <form
      #customerEditorForm="ngForm"
      (ngSubmit)="onUpdate(customer)"
      style="max-width: 300px"
      class="mx-auto"
    >
      <div class="form-group">
        <label>First Name</label>
        <input
          name="firstName"
          [(ngModel)]="customer.firstName"
          type="text"
          class="form-control"
          pattern="^[A-Z]+[A-Za-z -']{4,15}$"
          required
        />
        <div
          *ngIf="customerEditorForm.controls['firstName']?.invalid"
          class="error-message"
        >
          Name must start with capital letter and must be between 4 and 15
          characters long!
        </div>
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input
          name="lastName"
          [(ngModel)]="customer.lastName"
          type="text"
          class="form-control"
          pattern="^[A-Z]+[A-Za-z -']{4,15}$"
          required
        />
        <div
          *ngIf="customerEditorForm.controls['lastName']?.invalid"
          class="error-message"
        >
          Name must start with capital letter and must be between 4 and 15
          characters long!
        </div>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input
          name="email"
          [(ngModel)]="customer.email"
          type="text"
          class="form-control"
          required
          email
        />
        <div
          *ngIf="customerEditorForm.controls['email']?.invalid"
          class="error-message"
        >
          {{ customerEditorForm.controls["email"].value }} is not a valid email
        </div>

        <div class="form-group">
          <label>Active</label>
          <select
            name="active"
            [(ngModel)]="customer.active"
            type="select"
            class="form-control"
          >
            <option value="true">Active</option>
            <option value="false">Inactive</option>
          </select>
        </div>

        <div class="d-grid gap-2">
          <button
            [disabled]="customerEditorForm.invalid"
            class="btn btn-primary mt-3"
            type="submit"
          >
            <i class="fa fa-save"></i> Update Product
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
